%!TEX root = ../../main.tex
\chapter{Architektur}

Die grundlegende Architektur einer Webanwendung ist in Abbildung~\ref{img:architektur} beschrieben. Man spricht von einer Client-Server-Architektur. Die Nutzer einer Webanwendung interagieren mit einem Browser, dem Client. Innerhalb des Browsers wird die Webseite - das Frontend (Kapitel \ref{Angular}) - dargestellt. Die Inhalte einer Webseite werden mithilfe von \ac{HTML} (siehe Abschnitt~\ref{sec:html}) und das Layout mithilfe von \ac{CSS} (siehe Abschnitt~\ref{sec:css}) definiert. Auf Nutzerinteraktionen kann dynmaisch unter Verwendung von JavaScript reagiert werden. Ein Browser kann somit die drei Skript-Sprachen HTML, CSS und JavaScript interpretieren.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\textwidth]{architektur.png}
    \caption{Architektur der gesamten Anwendung}
    \label{img:architektur}
\end{figure}

Die Webseiten liegen auf einem Webserver - dem Server - oder werden von einem Webserver bereitgestellt. In den Browser wird ein \ac{URL} eingegeben, welcher die Adresse eines Webservers und den Namen der sich darauf befindlichen Webseite enthält. Die Kommunikation zwischen Browser und Webserver erfolgt mittels \ac{HTTP}. Die Eingabe einer URL in den Browser bewirkt einen sogenannten \textit{HTTP-Request} an den Webserver. Typischerweise wird eine \texttt{GET}-Anfrage an den Webserver gestellt, um diese zu laden. Der Webserver beantwortet diesen Request mit einer \textit{Response}, indem er die angefragte Seite an den Browser sendet. Diese wird im Browser dargestellt. Wird innerhalb der Webseite auf einen Hyperlink geklickt, entspricht das in der Regel einer weiteren Anfrage an den (oder einen anderen) Webserver und eine neue Seite wird übermittelt und dargestellt.

Es kann jedoch sein, dass der Webserver die angefragte Webseite noch nicht vollständig (\textit{statisch}) bereitstellen kann. Eine solche Webseite muss erst auf dem Webserver \textit{dynamisch} zusammengestellt werden. Dies ist z.B. der Fall, wenn Suchanfragen durch den Nutzer gestellt und die Ergebnisse der Suche zunächst aus einer Datenbank extrahiert und im Anschluss in eine Webseite eingebunden werden. Der Webserver kommuniziert in einem solchen Fall mit der an den Webserver angebundenen Datenbank mittels \ac{SQL}. Insbesondere, wenn die an den Browser zu übertragende Webseite erst durch den Webserver \glqq zusammengebaut\grqq{} werden muss, wird der Webserver auch als \textit{Backend} betitelt.

Die Kommunikation zwischen Browser und Webserver beinhaltet jedoch nicht nur \texttt{GET}-Anfragen, mit denen der Browser eine Ressource (Webseite) von dem Webserver anfordert. Darüber hinaus kann die Kommunikation auch das Senden von Daten an den Webserver beinhalten. Dies ist beispielsweise der Fall, wenn eine Webseite ein Formular enthält, in das Daten eingeben werden können. Diese Daten sollen entweder in die Datenbank gespeichert oder aber als neue Daten zur Aktualisierung bereits vorhandener Daten in einer Datenbank verwendet werden. Neben den \texttt{GET}-Anfragen sind demnach im HTTP-Standard auch sogenannte \texttt{POST}-, zum Senden neuer Daten, \texttt{PUT}-, zum Aktualisieren von Daten und \texttt{DELETE}-Anfragen, zum Löschen von Daten vorgesehen. Betrachtet man die Möglichkeiten zur Manipulation einer Datenbank, dann gibt es vier verschiedene Operationen, die auf einer Datenbank möglich sind:

\begin{itemize}
    \item \textit{Create} : das Hinzufügen neuer Daten(sätze),
    \item \textit{Read} : das Lesen einer oder mehrerer Daten(sätze),
    \item \textit{Update} : das Aktualisieren einer oder mehrerer Daten(sätze) sowie
    \item \textit{Delete} : das Löschen einer oder mehrerer Daten(sätze).
\end{itemize}

Diese vier Operationen werden gerne unter dem Begriff \ac{CRUD} zusammengefasst. Die oben genannten HTTP-Anfragen lassen sich somit gut auf diese CRUD-Operationen abbilden:


\begin{itemize}
    \item \texttt{GET}-Anfrage für das Lesen (read),
    \item \texttt{POST}-Anfrage für das Erstellen (create),
    \item \texttt{PUT}-Anfrage für das Aktualisieren (update) und
    \item \texttt{DELETE}-Anfrage für das Löschen (delete)
\end{itemize}

einer Ressource (Daten). Dieses \glqq Mapping\grqq{} bildet die Grundlage für eine \ac{REST}-Schnittstelle. \textit{REST} stellt eine Beschreibung von konkreten HTTP-Anfragen an konkrete Ressourcen auf dem Webserver (oder der Datenbank) dar. Es verbindet eine HTTP-Anfrage mit einer Ressource und beschreibt somit eindeutig, was mit dieser Ressource geschehen soll. In der vorliegenden Arbeit wird eine REST-Schnittstelle mithilfe von \textit{Node.js} implementiert, siehe Abschnitt \ref{node}. Mithilfe der Schnittstellen werden Daten der \ac{NoSQL}-Datenbank names \textit{MonogDB} manipuliert, siehe Abschnitt \ref{mongo}. 




 
