%!TEX root = ../../main.tex
\chapter{Theoretische Grundlagen}

\section{Progressive Web App Grundlagen}

Wie in Kapitel \ref{se:Begriffsklaerung} erwähnt verfügt eine PWA unter anderem über folgende Funktionen: 
\begin{itemize}
    \item Installierbar,
    \item zugriff auf Geräteschnittstellen, 
    \item Netzwerkunabhängig,
    \item Push-Notifikations.
\end{itemize} 

Im folgenden werden die theoretischen Grundlagen erläutert, die benötigt werden, um diese Funktionalitäten zu realisieren. 


\subsection{Web-App-Manifest}

\begin{quote}
   \textit{The web app manifest is a JSON file that defines how the PWA should be treated as an installed application, including the look and feel and basic behavior within the operating system \cite{Developers2022}. }
\end{quote}

Eine PWA kann auf ein Endgerät wie zum Beispiel ein Desktop oder Handy installiert werden. Um diese Funktion zu realisieren, müssen zusätzliche Informationen wie zum Beispiel der Name und das Icon der installierten Applikation in einer Datei festgehalten werden. 

Bei dieser Datei handelt es sich um das sogenannte Web-App-Manifest. Die Informationen sind im \ac{JSON}-Format\footnote{durch Komma getrennte Schlüssel-Wert paare} angegeben. 

Ohne Das Manifest ist die Applikation nicht installierbar, somit ist die Datei eine zwingende Voraussetzung für eine PWA. 
Das Manifest muss mindestens ein \texttt{name}-Schlüssel und ein \texttt{String}-Wert aufweisen. 
Neben dem Namen der Applikation kann ein Manifest über folgende Informationen verfügen: 

\subsubsection{short\_name}
Unter \texttt{short\_name} kann ein kurzer Name der Applikation angegeben werden. Dieser Name wird verwendet, falls das Endgerät nicht über genügend platz verfügt, um den Originalen Namen anzuzeigen. 

\subsubsection{icons}
Unter \texttt{icons} wird ein Array\footnote{Datentyp, das mehrere Werte speichern kann} mit Bildobjekten gespeichert. Ein Bildobjekt besteht aus einem Dateipfad, unter dem das anzuzeigende Bild gespeichert ist, einer Typ Beschreibung des Bildes zum Beispiel \textit{png} oder \textit{svg}, eine Informationen über die Auflösung des Bildes und optional noch eine Angabe  welchem Zweck das Bild dient. 

Die Gespeicherten Bilder werden als App-Icon auf dem Desktop oder Handy angezeigt. 

\subsubsection{start\_url}
Die angegebene \texttt{start\_url} ist jene \ac{URL} die geöffnet wird, sobald der Nutzer das installierte Icon auswählt und somit die Applikation startet. 
Wird keine explizite Startadresse angegeben, so wird die URL verwendet, von der die PWA installiert wurde. 

\subsubsection{display}

Beim Auswählen des Installierten Icons wird die PWA in einem neuem Fenster geöffnet. Unter \texttt{display} kann angegeben werden, wie das Betriebssystem das Fenster darstellen soll. 
Es kann zwischen \texttt{Fullscreen}, \texttt{Standalone} und \texttt{Minimal User Interface} unterschieden werden. 
Der unterschied zwischen den einzelnen Auswahlmöglichkeiten liegt bei den Navigationselementen, siehe Abbildung \ref{img:Standalone} und \ref{img:minimalui}.

\begin{figure}[!htb]
    \includegraphics[scale=0.3]{Standalone.png}
    \caption{display in Standalone Einstellung}
    \label{img:Standalone}
\end{figure}

\begin{figure}
    \includegraphics[scale=0.3]{minimalui.png}
    \caption{display in Minimal User Interface Einstellung}
    \label{img:minimalui}
\end{figure}

\subsubsection{theme\_color}
Mit Hilfe dieser Einstellung kann die Farbe der oberen Navigationsleiste angepasst werden, wie in Abbildung \ref{img:themeColor} dargestellt ist. Hierbei ist jedoch darauf zu achten, das die Applikation nicht den meta tag theme-color definiert. 

\begin{figure}[!htb]
    \includegraphics[scale=0.3]{themeColor.png}
    \caption{Theme Color auf Weiß geändert}
    \label{img:themeColor}
\end{figure}

\subsubsection{Debugging vom Manifest}

Neben den oben aufgezählten Grundeinstellungen sind viele weitere Möglich. Um nachzuvollziehen, ob alle Einstellungen den Anforderungen entsprechen kann das Manifest mithilfe der Browser Entwicklerwerkzeuge untersucht werden. Unter Google Chrome kann unterm Reiter \textit{Application} das Manifest ausgewählt werden. Darauf hin erhält man folgende Ansicht, siehe Abbildung \ref{img:devManifest}.

\begin{figure}[!htb]
    \centering
    \includegraphics[scale=0.45]{devToolsManifest.png}
    \caption{Entwicklereinstellungen Web-App-Manifest}
    \label{img:devManifest}
\end{figure}